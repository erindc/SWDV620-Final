<html>
<head>
    <meta name="robots" content="noindex" />
    <link type="text/css" rel="stylesheet" href="../styles/styles.css" />
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            let keys = Object.keys(JSON.parse(localStorage.getItem("res")));
            let vals = Object.values(JSON.parse(localStorage.getItem("res")));

            let data = google.visualization.arrayToDataTable([
                ['Category', 'Pct of Total'],
                [keys[0], vals[0]],
                [keys[1], vals[1]],
                [keys[2], vals[2]],
                [keys[3], vals[3]],
                [keys[4], vals[4]]
            ]);

            var options = {
                backgroundColor: '#c3ded8',
                colors: ['#e0440e', '#e6693e', '#ec8f6e', '#f3b49f', '#f6c7b6']
            };

            var chart = new google.visualization.PieChart(document.getElementById('piechart'));

            chart.draw(data, options);
        }
    </script>
</head>
<body>
    <div>
        <h1 class="nav">Expense Breakdown</h1>
        <br /><br />
        <div id="piechart" style="width: 900px; height: 500px; margin: auto;"></div>
    </div>
</body>
</html>